#!/usr/bin/env -S PYTHONPATH=. python

import uvicorn
import os

from dotenv import load_dotenv

load_dotenv(dotenv_path=os.path.join(os.environ["EAVE_HOME"], ".env"))
load_dotenv(dotenv_path=os.path.join(os.environ["EAVE_HOME"], "develop/shared/share.env"))

if __name__ == "__main__":
    uvicorn.run(
        app="eave.core.app:app",
        port=5100,
        reload=True,
        reload_dirs=[
            "eave",
            os.path.join(os.environ["EAVE_HOME"], "libs/eave-stdlib-py"),
        ],
        reload_excludes=[
            "**/build/",
            ".*",
        ]
    )
