

### Request

```json
{
  "model": "gpt-4",
  "messages": [
    {
      "content": "You will be provided a GitHub organization name, a repository name, and the directory hierarchy for that repository (starting from the root of the repository). Your task is to create a short, human-readable name and a description for any public services hosted in this repository. It's likely that there is exactly one service in the repository, however there may be more than one in the case of a monorepo hosting multiple applications, and there may be none in the case of a repository hosting only shared library code, developer tools, configuration, etc.\n\nThe directory hierarchy will be delimited by three exclamation marks, and formatted this way:\n\n- <directory name>\n    - <directory name>\n        - <file name>\n        - <file name>\n    - <directory name>\n        - <file name>\n    - ...\n\nThe service name(s) will be used in a high-level system architecture diagram. Go through the hierarchy a few times before you make your decisions.\n\nOutput your answer as a JSON array of objects, with each object containing the following keys:\n\n- \"service_name\": the name that you created for the service\n- \"service_description\": the description that you wrote for the service\n\nYour full response should be JSON-parseable, with no indentation or newlines between objects.",
      "role": "system"
    },
    {
      "content": "GitHub organization: eave-fyi\n\nRepository: eave-monorepo\n\nDirectory hierarchy:\n!!!\n\n- (root)\n  - terraform\n    - eavefyi-dev\n      - monitoring.tf\n      - metadata.tf\n      - vpc-access.tf\n      - logging.tf\n      - cloud-sql.tf\n      - appengine.tf\n      - main.tf\n      - secret-manager.tf\n      - imports.tf\n      - cloud-tasks.tf\n      - network.tf\n      - certificate-manager.tf\n      - redis.tf\n      - cloud-build.tf\n      - pubsub.tf\n      - kms.tf\n      - project.tf\n      - bigquery.tf\n      - runtime-config.tf\n  - develop\n    - proxy\n      - mitm_router.py\n    - deploy\n      - eave-builder-python\n        - Dockerfile\n      - eave-builder-gcloudsdk\n        - Dockerfile\n      - eave-builder-node\n      - README.md\n    - shared\n      - _functions.bash\n    - javascript\n      - es-config\n        - eslint\n          - typescript.js\n          - graphql.js\n          - yaml.js\n          - index.js\n          - react.js\n        - typescript\n          - ava.config.mjs\n          - tsconfig.json\n        - package-lock.json\n        - package.json\n      - package-lock.json\n      - package.json\n      - _functions.bash\n    - certs\n      - eave-localhost\n        - eave-localhost.crt\n        - eave-localhost.pem\n        - eave-localhost.key\n      - eave-run\n        - eave-run.key\n        - eave-run.crt\n        - eave-run.pem\n    - python\n      - src\n        - eave\n          - dev_tooling\n            - pretty_errors.py\n            - dotenv_loader.py\n      - configs\n        - pyproject.toml\n      - pyproject.toml\n      - requirements-dev.txt\n      - setup.py\n      - _functions.bash\n      - setup.cfg\n    - wrap-key-kms.bash\n    - requirements-dev.txt\n    - functions.bash\n  - apps\n    - core\n      - eave_alembic\n        - versions\n          - 2023_05_23_2002-e66762912ba4_add_emails_to_accounts_table.py\n          - 2023_05_04_1934-7077e9067e19_remove_auth_token_table.py\n          - 2023_06_08_0808-23d85d98202d_add_index_to_org_url.py\n          - 2023_05_05_1959-271e6339d054_add_github_installations.py\n          - 2023_06_09_1818-e8115fe8febb_add_index_to_team_id.py\n          - 2023_05_02_1911-25534cc72fa4_add_account_tracking_params.py\n          - 2023_05_15_1555-389edb075d5e_.py\n          - 2023_06_02_1845-8b9901c4cc2c_atlassian_connect.py\n          - 2023_06_05_1541-cb9ab45eb78f_confluence_dest_update.py\n          - 2023_05_29_0301-b2eb47841833_forge_tables.py\n          - 2023_05_17_2051-a4ee5f0e5c49_remove_document_reference_unique_.py\n          - 2023_06_06_0135-a61fd4303d02_add_org_url_to_connect_installs.py\n          - 2023_05_23_2150-920f9d3ede4c_add_identifiers_to_installation_tables.py\n        - migrate.py\n        - script.py.mako\n        - seed_database.py\n        - init_database.py\n        - __init__.py\n        - env.py\n      - eave\n        - core\n          - public\n            - requests\n              - oauth\n                - base.py\n                - slack_oauth.py\n                - github_oauth.py\n                - shared.py\n                - __init__.py\n                - atlassian_oauth.py\n                - google_oauth.py\n              - atlassian_integration.py\n              - team.py\n              - authed_account.py\n              - github_integration.py\n              - subscriptions.py\n              - status.py\n              - slack_integration.py\n              - __init__.py\n              - documents.py\n              - connect_integration.py\n              - noop.py\n            - middlewares\n              - authentication.py\n              - team_lookup.py\n              - __init__.py\n              - development_bypass.py\n            - http_endpoint.py\n            - exception_handlers.py\n            - __init__.py\n          - internal\n            - oauth\n              - slack.py\n              - google.py\n              - __init__.py\n              - state_cookies.py\n              - atlassian.py\n              - models.py\n            - orm\n              - slack_installation.py\n              - connect_installation.py\n              - base.py\n              - github_installation.py\n              - team.py\n              - account.py\n              - subscription.py\n              - __init__.py\n              - util.py\n              - atlassian_installation.py\n              - document_reference.py\n              - resource_mutex.py\n              - confluence_destination.py\n            - destinations\n            - document_client.py\n            - __init__.py\n            - database.py\n            - config.py\n          - __init__.py\n          - app.py\n      - app.eave-production.yaml\n      - README.md\n      - requirements-vendor.txt\n      - alembic.ini\n      - requirements.txt\n      - app.eavefyi-dev.yaml\n      - requirements-dev.txt\n      - cloudbuild.yaml\n    - slack\n      - eave\n        - slack\n          - requests\n            - warmup.py\n            - event_processor.py\n            - __init__.py\n            - event_callback.py\n          - brain\n            - base.py\n            - intent_processing.py\n            - communication.py\n            - message_prompts.py\n            - subscription_management.py\n            - document_management.py\n            - context_building.py\n            - document_metadata.py\n            - core.py\n          - slack_app.py\n          - __init__.py\n          - event_handlers.py\n          - slack_models.py\n          - app.py\n          - config.py\n      - app.eave-production.yaml\n      - README.md\n      - requirements-vendor.txt\n      - requirements.txt\n      - socketmode.py\n      - app.eavefyi-dev.yaml\n      - requirements-dev.txt\n    - jira\n      - src\n        - events\n          - routes.ts\n          - comment-created.ts\n        - api\n          - routes.ts\n        - types.ts\n        - jira-client.ts\n        - app.ts\n        - config.ts\n      - server.ts\n      - app.eave-production.yaml\n      - README.md\n      - atlassian-connect.json\n      - pm2.config.cjs\n      - package-lock.json\n      - credentials.json\n      - app.eavefyi-dev.yaml\n      - tsconfig.json\n      - package.json\n      - config.json\n    - appengine-default\n      - main.py\n      - README.md\n      - app.yaml\n    - github\n      - src\n        - events\n          - routes.ts\n          - push.ts\n        - graphql\n          - getResource.graphql\n          - getFileContentsByPath.graphql\n          - getFileContents.graphql\n          - getRefs.graphql\n        - api\n          - routes.ts\n          - content.ts\n          - subscribe.ts\n          - repos.ts\n        - lib\n          - graphql-util.ts\n          - octokit-util.ts\n          - cache.ts\n        - types.ts\n        - app.ts\n        - dispatch.ts\n        - registry.ts\n        - config.ts\n      - server.ts\n      - app.eave-production.yaml\n      - README.md\n      - pm2.config.cjs\n      - package-lock.json\n      - app.eavefyi-dev.yaml\n      - tsconfig.json\n      - package.json\n    - confluence\n      - src\n        - events\n          - routes.ts\n        - api\n          - routes.ts\n          - util.ts\n          - search-content.ts\n          - create-content.ts\n          - delete-content.ts\n          - get-available-spaces.ts\n          - update-content.ts\n        - app.ts\n        - confluence-client.ts\n        - config.ts\n      - server.ts\n      - app.eave-production.yaml\n      - README.md\n      - atlassian-connect.json\n      - pm2.config.cjs\n      - package-lock.json\n      - credentials.json\n      - app.eavefyi-dev.yaml\n      - tsconfig.json\n      - package.json\n      - config.json\n    - marketing\n      - eave\n        - marketing\n          - static\n            - images\n              - eave-slack-2x.png\n              - slack-logo-3x.png\n              - notion-logo-3x.png\n              - github-logo-3x.png\n              - sharepoint-logo-3x.png\n              - figma-logo-3x.png\n              - confluence-mock.png\n              - amazon-logo-3x.png\n              - eave-slack-small-2x.png\n              - paypal-logo-3x.png\n              - outlook-logo-3x.png\n              - confluence-mock-mobile.png\n              - disney-logo-3x.png\n              - teams-logo-3x.png\n              - gmail-logo-3x.png\n              - jira-logo-3x.png\n              - google-drive-logo-3x.png\n              - privacy-icons-3x.png\n              - honey-logo-3x.png\n              - e-icon-small.png\n              - github-logo-inline.png\n              - confluence-logo-3x.png\n          - templates\n            - index.html.jinja\n          - js\n            - components\n              - Footer\n                - index.jsx\n              - Copy\n                - index.jsx\n              - EaveLogo\n                - index.jsx\n              - Header\n                - index.jsx\n              - hoc\n                - withTitle.js\n              - Block\n                - index.js\n              - AuthUser\n                - index.jsx\n              - PrivateRoutes\n                - index.jsx\n              - AuthModal\n                - index.jsx\n              - Button\n                - index.jsx\n              - Icons\n                - DownIcon.js\n                - CloseIcon.js\n                - LockIcon.js\n                - HamburgerIcon.js\n                - GoogleIcon.jsx\n                - PurpleCheckIcon.jsx\n                - DocumentIcon.js\n                - SlackIcon.jsx\n                - ConnectIcon.js\n                - AtlassianIcon.jsx\n                - SnapIcon.js\n                - ConfluenceIcon.jsx\n                - ChatboxIcon.jsx\n                - SyncIcon.js\n              - Pages\n                - Dashboard\n                  - StepIcon.jsx\n                  - Steps.jsx\n                  - Thanks.jsx\n                  - Footnote.jsx\n                  - index.jsx\n                - PrivacyPage\n                  - index.jsx\n                - Page\n                  - index.jsx\n                - HomePage\n                  - index.jsx\n                - TermsPage\n                  - index.jsx\n              - Banners\n                - PrivacyBanner\n                  - index.jsx\n                - DocumentationBanner\n                  - index.jsx\n                - IntegrationsBanner\n                  - index.jsx\n                - SlackBanner\n                  - index.jsx\n              - Hero\n                - index.jsx\n              - PageSection\n                - index.jsx\n              - Affiliates\n                - index.js\n              - BlockStack\n                - index.js\n              - ScrollToTop\n                - index.jsx\n            - hooks\n              - useAuthModal.js\n              - useUser.js\n              - useError.js\n            - context\n              - Provider.js\n            - theme\n              - index.js\n            - App.js\n            - asset-helpers.js\n            - index.js\n            - constants.js\n          - __init__.py\n          - app.py\n          - config.py\n      - app.eave-production.yaml\n      - README.md\n      - requirements-vendor.txt\n      - requirements.txt\n      - package-lock.json\n      - app.eavefyi-dev.yaml\n      - requirements-dev.txt\n      - package.json\n      - webpack.config.cjs\n    - archer\n      - eave\n        - archer\n          - prompts\n            - service_normalization.py\n            - service_info.py\n            - service_dependencies.py\n          - main.py\n          - graph_builder.py\n          - render.py\n          - service_graph.py\n          - __init__.py\n          - util.py\n          - service_registry.py\n          - config.py\n          - fs_hierarchy.py\n      - requirements-vendor.txt\n      - requirements.txt\n      - requirements-dev.txt\n      - graph.mermaid\n  - libs\n    - eave-pubsub-schemas\n      - protos\n        - eave_event.proto\n      - typescript\n        - src\n          - generated\n            - eave_event.ts\n        - package-lock.json\n        - tsconfig.json\n        - package.json\n      - python\n        - src\n          - eave\n            - pubsub_schemas\n              - generated\n                - eave_event_pb2.pyi\n                - __init__.py\n                - eave_event_pb2.py\n              - __init__.py\n        - pyproject.toml\n        - test.py\n        - setup.py\n        - setup.cfg\n      - sync_schemas.py\n      - README.md\n      - package-lock.json\n      - requirements-dev.txt\n      - package.json\n    - eave-stdlib-ts\n      - src\n        - connect\n          - types\n            - adf.ts\n          - dev-tunnel-config.ts\n          - connect-client.ts\n          - eave-api-store-adapter.ts\n          - security-policy-middlewares.ts\n          - lifecycle-router.ts\n        - jira-api\n          - models.ts\n        - middleware\n          - request-integrity.ts\n          - exception-handling.ts\n          - logging.ts\n          - development-bypass.ts\n          - body-parser.ts\n          - signature-verification.ts\n          - origin.ts\n          - common-middlewares.ts\n          - require-headers.ts\n        - core-api\n          - operations\n            - status.ts\n            - team.ts\n            - github.ts\n            - subscriptions.ts\n            - connect.ts\n            - slack.ts\n            - documents.ts\n          - models\n            - integrations.ts\n            - team.ts\n            - atlassian.ts\n            - github.ts\n            - subscriptions.ts\n            - account.ts\n            - connect.ts\n            - slack.ts\n            - documents.ts\n          - enums.ts\n        - confluence-api\n          - models.ts\n          - operations.ts\n        - github-api\n          - client.ts\n          - models.ts\n          - operations.ts\n        - link-handler.ts\n        - eave-origins.ts\n        - signing.ts\n        - logging.ts\n        - util.ts\n        - types.ts\n        - exceptions.ts\n        - openai.ts\n        - api-util.ts\n        - requests.ts\n        - analytics.ts\n        - headers.ts\n        - cache.ts\n        - config.ts\n      - package-lock.json\n      - tsconfig.json\n      - package.json\n    - eave-stdlib-py\n      - src\n        - eave\n          - stdlib\n            - confluence_api\n              - operations.py\n              - __init__.py\n              - models.py\n            - middleware\n              - base.py\n              - exception_handling.py\n              - body_parsing.py\n              - request_integrity.py\n              - signature_verification.py\n              - __init__.py\n              - logging.py\n              - origin.py\n              - development_bypass.py\n            - core_api\n              - operations\n                - slack.py\n                - team.py\n                - subscriptions.py\n                - account.py\n                - status.py\n                - connect.py\n                - __init__.py\n                - github.py\n                - documents.py\n                - atlassian.py\n              - models\n                - slack.py\n                - error.py\n                - team.py\n                - subscriptions.py\n                - account.py\n                - connect.py\n                - __init__.py\n                - github.py\n                - documents.py\n                - atlassian.py\n                - integrations.py\n              - __init__.py\n              - enums.py\n            - github_api\n              - operations.py\n              - client.py\n              - __init__.py\n              - models.py\n            - pubsub_schemas\n            - cookies.py\n            - slack.py\n            - jwt.py\n            - signing.py\n            - requests.py\n            - request_state.py\n            - cache.py\n            - test_util.py\n            - utm_cookies.py\n            - link_handler.py\n            - api_util.py\n            - __init__.py\n            - endpoints.py\n            - util.py\n            - task_queue.py\n            - analytics.py\n            - logging.py\n            - openai_client.py\n            - auth_cookies.py\n            - headers.py\n            - checksum.py\n            - atlassian.py\n            - eave_origins.py\n            - typing.py\n            - config.py\n            - time.py\n            - exceptions.py\n      - pyproject.toml\n      - requirements-dev.txt\n      - setup.py\n      - setup.cfg\n  - README.md\n  - ngrok.yml\n\n!!!",
      "role": "user"
    }
  ],
  "frequency_penalty": 0,
  "presence_penalty": 0,
  "temperature": 0,
  "stop": [
    "STOP_SEQUENCE"
  ]
}
```

#### Response

```json
{
  "id": "chatcmpl-7bEelhs4dpSEJvoEag9qvQA0voIps",
  "object": "chat.completion",
  "created": 1689108831,
  "model": "gpt-4-0613",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "[{\"service_name\": \"Eave Core Service\", \"service_description\": \"The main service handling core functionalities such as OAuth, team management, and document management.\"}, {\"service_name\": \"Eave Slack Service\", \"service_description\": \"Service responsible for handling Slack related requests and events.\"}, {\"service_name\": \"Eave Jira Service\", \"service_description\": \"Service responsible for handling Jira related requests and events.\"}, {\"service_name\": \"Eave Github Service\", \"service_description\": \"Service responsible for handling Github related requests and events.\"}, {\"service_name\": \"Eave Confluence Service\", \"service_description\": \"Service responsible for handling Confluence related requests and events.\"}, {\"service_name\": \"Eave Marketing Service\", \"service_description\": \"Service responsible for handling marketing related requests and events.\"}, {\"service_name\": \"Eave Archer Service\", \"service_description\": \"Service responsible for handling archer related requests and events.\"}]"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 4027,
    "completion_tokens": 195,
    "total_tokens": 4222
  }
}
```

---

