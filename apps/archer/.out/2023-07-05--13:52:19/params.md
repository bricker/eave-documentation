### get_services_from_repo

```
SYSTEM:
You will be provided a GitHub organization name, a repository name, and the directory hierarchy for that repository (starting from the root of the repository). Your task is to create a short, human-readable name and a description for any public HTTP services hosted in this repository. It's likely that there is exactly one service in the repository, however there may be more than one in the case of a monorepo hosting multiple applications, and there may be none in the case of a repository hosting only shared library code, developer tools, configuration, etc.

The directory hierarchy will be delimited by three exclamation points, and formatted this way:

- <directory name>
    - <directory name>
        - <file name>
        - <file name>
    - <directory name>
        - <file name>
    - ...

The service name(s) will be used in a high-level system architecture diagram. Go through the hierarchy a few times before you make your decision, each time refining your understanding of the repository.

Output your answer as a JSON array of objects, with each object containing the following keys:

- "service_name": the name that you created for the service
- "service_description": the description that you wrote for the service
- "service_root": The path to the directory in the provided hierarchy that can be considered the root directory of the service.

Your full response should be JSON-parseable, so don't respond with something that can't be parsed by a JSON parser.
```
```
USER:
GitHub organization: eave-fyi

Repository: eave-monorepo

Directory hierarchy:
!!!

- (root)
  - bin
    - http-proxy
    - lint
    - format
    - clean
    - proxy
    - setup
    - deploy
    - cloud-sql-proxy
    - pg-shell
    - pushcheck
    - test
    - ngrok-tunnel
  - terraform
    - eavefyi-dev
      - monitoring.tf
      - metadata.tf
      - vpc-access.tf
      - logging.tf
      - cloud-sql.tf
      - appengine.tf
      - main.tf
      - secret-manager.tf
      - imports.tf
      - cloud-tasks.tf
      - network.tf
      - certificate-manager.tf
      - redis.tf
      - cloud-build.tf
      - pubsub.tf
      - kms.tf
      - project.tf
      - bigquery.tf
      - runtime-config.tf
  - develop
    - proxy
      - bin
        - serve
      - mitm_router.py
    - deploy
      - eave-builder-python
        - Dockerfile
      - bin
        - push
      - eave-builder-gcloudsdk
        - Dockerfile
      - eave-builder-node
      - README.md
    - shared
      - bin
        - deploy-appengine
        - setup-deployment-workspace
        - build-dotenv
        - run-with-dotenv
        - status
      - _functions.bash
    - javascript
      - es-config
        - eslint
          - typescript.js
          - graphql.js
          - yaml.js
          - index.js
          - react.js
        - bin
          - setup
        - typescript
          - ava.config.mjs
          - tsconfig.json
        - package.json
      - bin
        - lint
        - format
        - deploy-appengine
        - setup
        - test
      - package.json
      - _functions.bash
    - certs
      - eave-localhost
        - eave-localhost.crt
        - eave-localhost.pem
        - eave-localhost.key
      - eave-run
        - eave-run.key
        - eave-run.crt
        - eave-run.pem
      - bin
        - make-cert
        - install-certs
    - python
      - src
        - eave
          - dev_tooling
            - pretty_errors.py
            - dotenv_loader.py
      - bin
        - lint
        - format
        - deploy-appengine
        - setup
        - test
      - configs
        - pyproject.toml
      - pyproject.toml
      - requirements-dev.txt
      - setup.py
      - _functions.bash
      - setup.cfg
    - wrap-key-kms.bash
    - requirements-dev.txt
    - functions.bash
  - apps
    - core
      - eave
        - core
          - public
            - requests
              - oauth
                - base.py
                - slack_oauth.py
                - github_oauth.py
                - shared.py
                - __init__.py
                - atlassian_oauth.py
                - google_oauth.py
              - atlassian_integration.py
              - team.py
              - authed_account.py
              - github_integration.py
              - subscriptions.py
              - status.py
              - slack_integration.py
              - __init__.py
              - documents.py
              - connect_integration.py
              - noop.py
            - middlewares
              - authentication.py
              - team_lookup.py
              - __init__.py
              - development_bypass.py
            - http_endpoint.py
            - exception_handlers.py
            - __init__.py
          - internal
            - oauth
              - slack.py
              - google.py
              - __init__.py
              - state_cookies.py
              - atlassian.py
              - models.py
            - orm
              - slack_installation.py
              - connect_installation.py
              - base.py
              - github_installation.py
              - team.py
              - account.py
              - subscription.py
              - __init__.py
              - util.py
              - atlassian_installation.py
              - document_reference.py
              - resource_mutex.py
              - confluence_destination.py
            - destinations
            - document_client.py
            - __init__.py
            - database.py
            - config.py
          - __init__.py
          - app.py
      - bin
        - lint
        - format
        - repl
        - setup
        - appengine-dev-server
        - logs
        - run-db-migration
        - deploy
        - setup-db
        - repl.py
        - test
        - status
        - create-db-migration
      - app.eave-production.yaml
      - README.md
      - requirements-vendor.txt
      - alembic.ini
      - requirements.txt
      - app.eavefyi-dev.yaml
      - requirements-dev.txt
      - cloudbuild.yaml
    - slack
      - eave
        - slack
          - requests
            - warmup.py
            - event_processor.py
            - __init__.py
            - event_callback.py
          - brain
            - base.py
            - intent_processing.py
            - communication.py
            - message_prompts.py
            - subscription_management.py
            - document_management.py
            - context_building.py
            - document_metadata.py
            - core.py
          - slack_app.py
          - __init__.py
          - event_handlers.py
          - slack_models.py
          - app.py
          - config.py
      - bin
        - lint
        - format
        - setup
        - appengine-dev-server
        - logs
        - deploy
        - test
        - status
      - app.eave-production.yaml
      - README.md
      - requirements-vendor.txt
      - requirements.txt
      - socketmode.py
      - app.eavefyi-dev.yaml
      - requirements-dev.txt
    - jira
      - src
        - events
          - routes.ts
          - comment-created.ts
        - api
          - routes.ts
        - types.ts
        - jira-client.ts
        - app.ts
        - config.ts
      - bin
        - lint
        - format
        - setup
        - logs
        - deploy
        - test
        - status
      - server.ts
      - app.eave-production.yaml
      - README.md
      - atlassian-connect.json
      - pm2.config.cjs
      - credentials.json
      - app.eavefyi-dev.yaml
      - tsconfig.json
      - package.json
      - config.json
    - appengine-default
      - main.py
      - README.md
      - app.yaml
    - github
      - src
        - events
          - routes.ts
          - push.ts
        - graphql
          - getResource.graphql
          - getFileContentsByPath.graphql
          - getFileContents.graphql
          - getRefs.graphql
        - api
          - routes.ts
          - content.ts
          - subscribe.ts
          - repos.ts
        - lib
          - graphql-util.ts
          - octokit-util.ts
          - cache.ts
        - types.ts
        - app.ts
        - dispatch.ts
        - registry.ts
        - config.ts
      - bin
        - lint
        - format
        - setup
        - appengine-dev-server
        - logs
        - deploy
        - test
        - status
      - server.ts
      - app.eave-production.yaml
      - README.md
      - pm2.config.cjs
      - app.eavefyi-dev.yaml
      - tsconfig.json
      - package.json
    - confluence
      - src
        - events
          - routes.ts
        - api
          - routes.ts
          - util.ts
          - search-content.ts
          - create-content.ts
          - delete-content.ts
          - get-available-spaces.ts
          - update-content.ts
        - app.ts
        - confluence-client.ts
        - config.ts
      - bin
        - lint
        - format
        - setup
        - logs
        - deploy
        - test
        - status
      - server.ts
      - app.eave-production.yaml
      - README.md
      - atlassian-connect.json
      - pm2.config.cjs
      - credentials.json
      - app.eavefyi-dev.yaml
      - tsconfig.json
      - package.json
      - config.json
    - marketing
      - eave
        - marketing
          - static
            - dist
              - main.js
              - main.js.LICENSE.txt
            - images
              - eave-slack-2x.png
              - slack-logo-3x.png
              - notion-logo-3x.png
              - github-logo-3x.png
              - sharepoint-logo-3x.png
              - figma-logo-3x.png
              - confluence-mock.png
              - amazon-logo-3x.png
              - eave-slack-small-2x.png
              - paypal-logo-3x.png
              - outlook-logo-3x.png
              - confluence-mock-mobile.png
              - disney-logo-3x.png
              - teams-logo-3x.png
              - gmail-logo-3x.png
              - jira-logo-3x.png
              - google-drive-logo-3x.png
              - privacy-icons-3x.png
              - honey-logo-3x.png
              - e-icon-small.png
              - github-logo-inline.png
              - confluence-logo-3x.png
          - templates
            - index.html.jinja
          - js
            - components
              - Footer
                - index.jsx
              - Copy
                - index.jsx
              - EaveLogo
                - index.jsx
              - Header
                - index.jsx
              - hoc
                - withTitle.js
              - Block
                - index.js
              - AuthUser
                - index.jsx
              - PrivateRoutes
                - index.jsx
              - AuthModal
                - index.jsx
              - Button
                - index.jsx
              - Icons
                - DownIcon.js
                - CloseIcon.js
                - LockIcon.js
                - HamburgerIcon.js
                - GoogleIcon.jsx
                - PurpleCheckIcon.jsx
                - DocumentIcon.js
                - SlackIcon.jsx
                - ConnectIcon.js
                - AtlassianIcon.jsx
                - SnapIcon.js
                - ConfluenceIcon.jsx
                - ChatboxIcon.jsx
                - SyncIcon.js
              - Pages
                - Dashboard
                  - StepIcon.jsx
                  - Steps.jsx
                  - Thanks.jsx
                  - Footnote.jsx
                  - index.jsx
                - PrivacyPage
                  - index.jsx
                - Page
                  - index.jsx
                - HomePage
                  - index.jsx
                - TermsPage
                  - index.jsx
              - Banners
                - PrivacyBanner
                  - index.jsx
                - DocumentationBanner
                  - index.jsx
                - IntegrationsBanner
                  - index.jsx
                - SlackBanner
                  - index.jsx
              - Hero
                - index.jsx
              - PageSection
                - index.jsx
              - Affiliates
                - index.js
              - BlockStack
                - index.js
              - ScrollToTop
                - index.jsx
            - hooks
              - useAuthModal.js
              - useUser.js
              - useError.js
            - context
              - Provider.js
            - theme
              - index.js
            - App.js
            - asset-helpers.js
            - index.js
            - constants.js
            - cookies.js
          - __init__.py
          - app.py
          - config.py
      - bin
        - remove-unused-images
        - lint
        - format
        - setup
        - appengine-dev-server
        - logs
        - deploy
        - test
        - status
      - app.eave-production.yaml
      - README.md
      - requirements-vendor.txt
      - requirements.txt
      - app.eavefyi-dev.yaml
      - requirements-dev.txt
      - package.json
      - webpack.config.cjs
    - archer
      - eave
        - archer
          - main.py
          - graph_builder.py
          - service_info.py
          - render.py
          - test-repos.md
          - service_graph.py
          - service_dependencies.py
          - __init__.py
          - util.py
          - service_registry.py
          - prompt_exp.py
          - config.py
          - fs_hierarchy.py
      - bin
        - lint
        - format
        - setup
        - run-exp
        - logs
        - deploy
        - test
        - status
      - requirements-vendor.txt
      - requirements.txt
      - requirements-dev.txt
      - graph.mermaid
  - libs
    - eave-pubsub-schemas
      - bin
        - lint
        - format
        - sync
        - setup
        - test
      - protos
        - eave_event.proto
      - typescript
        - src
          - generated
            - eave_event.ts
        - bin
          - lint
          - format
          - test
        - tsconfig.json
        - package.json
      - python
        - src
          - eave
            - pubsub_schemas
              - generated
                - eave_event_pb2.pyi
                - __init__.py
                - eave_event_pb2.py
              - __init__.py
        - bin
          - lint
          - format
          - test
        - pyproject.toml
        - test.py
        - setup.py
        - setup.cfg
      - sync_schemas.py
      - README.md
      - requirements-dev.txt
      - package.json
    - eave-stdlib-ts
      - src
        - connect
          - types
            - adf.ts
          - dev-tunnel-config.ts
          - connect-client.ts
          - eave-api-store-adapter.ts
          - security-policy-middlewares.ts
          - lifecycle-router.ts
        - jira-api
          - models.ts
        - middleware
          - request-integrity.ts
          - exception-handling.ts
          - logging.ts
          - development-bypass.ts
          - body-parser.ts
          - signature-verification.ts
          - origin.ts
          - common-middlewares.ts
          - require-headers.ts
        - core-api
          - operations
            - status.ts
            - team.ts
            - github.ts
            - subscriptions.ts
            - connect.ts
            - slack.ts
            - documents.ts
          - models
            - integrations.ts
            - team.ts
            - atlassian.ts
            - github.ts
            - subscriptions.ts
            - account.ts
            - connect.ts
            - slack.ts
            - documents.ts
          - enums.ts
        - confluence-api
          - models.ts
          - operations.ts
        - github-api
          - client.ts
          - models.ts
          - operations.ts
        - link-handler.ts
        - eave-origins.ts
        - signing.ts
        - logging.ts
        - util.ts
        - types.ts
        - exceptions.ts
        - openai.ts
        - api-util.ts
        - requests.ts
        - analytics.ts
        - headers.ts
        - cache.ts
        - config.ts
      - bin
        - lint
        - format
        - setup
        - test
      - tsconfig.json
      - package.json
    - eave-stdlib-py
      - src
        - eave
          - stdlib
            - confluence_api
              - operations.py
              - __init__.py
              - models.py
            - middleware
              - base.py
              - exception_handling.py
              - body_parsing.py
              - request_integrity.py
              - signature_verification.py
              - __init__.py
              - logging.py
              - origin.py
              - development_bypass.py
            - core_api
              - operations
                - slack.py
                - team.py
                - subscriptions.py
                - account.py
                - status.py
                - connect.py
                - __init__.py
                - github.py
                - documents.py
                - atlassian.py
              - models
                - slack.py
                - error.py
                - team.py
                - subscriptions.py
                - account.py
                - connect.py
                - __init__.py
                - github.py
                - documents.py
                - atlassian.py
                - integrations.py
              - __init__.py
              - enums.py
            - github_api
              - operations.py
              - client.py
              - __init__.py
              - models.py
            - cookies.py
            - slack.py
            - jwt.py
            - signing.py
            - requests.py
            - request_state.py
            - cache.py
            - test_util.py
            - link_handler.py
            - api_util.py
            - __init__.py
            - endpoints.py
            - util.py
            - task_queue.py
            - analytics.py
            - logging.py
            - openai_client.py
            - headers.py
            - checksum.py
            - atlassian.py
            - eave_origins.py
            - typing.py
            - config.py
            - time.py
            - exceptions.py
      - bin
        - lint
        - format
        - setup
        - test
      - pyproject.toml
      - requirements-dev.txt
      - setup.py
      - setup.cfg
  - README.md
  - ngrok.yml

!!!
```
===### get_dependencies

```
SYSTEM:
You will be given a GitHub organization name, a repository name, a file path to some code in that repository, the code in that file (delimited by three exclamation marks), and a list of known service names. Your task is to find which (if any) of the provided APIs/services the code references, uses, calls, or depends on. Your answer will be used to create a high-level system architecture diagram.
Output your answer as a JSON array of strings, where each string is the name of the service referenced in the code. This should exactly match the provided service name. Your full response should be JSON-parseable.
```
```
USER:
GitHub organization: eave-fyi
Repository: eave-monorepo
Known services:
- Eave Core Service
- Eave Slack Service
- Eave Jira Service
- Eave Github Service
- Eave Confluence Service
- Eave Marketing Service
- Eave Archer Service
File path: /home/bryan/code/eave/eave-monorepo/apps/slack/bin/status
Code:
!!!
#!/usr/bin/env -S bash -eu

source "${EAVE_HOME}"/develop/functions.bash

(
	"${EAVE_HOME}"/develop/shared/bin/status https://apps.eave.${1:-fyi}/slack/status
)
!!!
```
===